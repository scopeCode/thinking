/**
 * Created by WG on 2015/11/3.
 */
var log4js = require('log4js');
    log4js.configure({
        appenders: [
             { type: 'console' },//控制台输出
             {
             "type": "dateFile",
             "filename": "logs/DateLogger",
             "pattern": "-yyyy-MM-dd",
             "alwaysIncludePattern": true
             }
        ],
        replaceConsole: true //增加replaceConsole配置，让所有console输出到日志中，以[INFO] console代替console默认样式。
    });

var logLevel = {
    TRACE:'trace',
    DEBUG:'debug',
    INFO:'info',
    WARN:'warn',
    ERROR:'error',
    FATAL:'fatal'
};

var log ={};

log.logger = function(name){
    var logger = log4js.getLogger(name);
    logger.setLevel(logLevel.INFO);
    return logger;
};

log.connectLogger = log4js.connectLogger(log.logger('normal'), {level:'auto', format:':method :url'});

module.exports = log;